{"version":3,"file":"dabeng-ng-orgchart.js","sources":["@dabeng/ng-orgchart/lib/components/orgchart/shared/services/node-select.service.ts","@dabeng/ng-orgchart/lib/components/orgchart/chart-container/chart-container.component.ts","@dabeng/ng-orgchart/lib/components/orgchart/shared/models/node.model.ts","@dabeng/ng-orgchart/lib/components/orgchart/chart-node/chart-node.component.ts","@dabeng/ng-orgchart/lib/components/orgchart/orgchart.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class NodeSelectService {\n\n  private subject = new Subject<any>();\n\n  constructor() { }\n\n  sendSelect(id: string) {\n    this.subject.next({ id });\n  }\n\n  clearSelect() {\n    this.subject.next();\n  }\n\n  getSelect(): Observable<any> {\n    return this.subject.asObservable();\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef } from '@angular/core';\nimport { NodeSelectService } from '../shared/services/node-select.service';\n\n@Component({\n  selector: 'organization-chart',\n  templateUrl: './chart-container.component.html',\n  styleUrls: ['./chart-container.component.css']\n})\nexport class ChartContainerComponent implements OnInit {\n\n  @Input() datasource;\n  @Input() nodeHeading = 'name';\n  @Input() nodeContent = 'title';\n  @Input() nodeTemplate: TemplateRef<any>;\n  @Input() groupScale = 3;\n  @Input() pan = false;\n  @Input() zoom = false;\n  @Input() zoomoutLimit = 0.5;\n  @Input() zoominLimit = 7;\n  @Input() containerClass = '';\n  @Input() chartClass = '';\n  @Input() select = 'single';\n\n  @Output() nodeClick = new EventEmitter<any>();\n  @Output() chartClick = new EventEmitter();\n\n  cursorVal = 'default';\n  panning = false;\n  startX = 0;\n  startY = 0;\n  transformVal = '';\n\n  constructor(private nodeSelectService: NodeSelectService) {}\n\n  ngOnInit() {\n  }\n\n  panEndHandler() {\n    this.panning = false;\n    this.cursorVal = 'default';\n  }\n\n  panHandler(e) {\n    let newX = 0;\n    let newY = 0;\n    if (!e.targetTouches) {\n      // pand on desktop\n      newX = e.pageX - this.startX;\n      newY = e.pageY - this.startY;\n    } else if (e.targetTouches.length === 1) {\n      // pan on mobile device\n      newX = e.targetTouches[0].pageX - this.startX;\n      newY = e.targetTouches[0].pageY - this.startY;\n    } else if (e.targetTouches.length > 1) {\n      return;\n    }\n    if (this.transformVal === '') {\n      if (this.transformVal.indexOf('3d') === -1) {\n        this.transformVal = 'matrix(1,0,0,1,' + newX + ',' + newY + ')';\n      } else {\n        this.transformVal =\n          'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,' + newX + ', ' + newY + ',0,1)';\n      }\n    } else {\n      const matrix = this.transformVal.split(',');\n      if (this.transformVal.indexOf('3d') === -1) {\n        matrix[4] = newX.toString();\n        matrix[5] = newY + ')';\n      } else {\n        matrix[12] = newX.toString();\n        matrix[13] = newY.toString();\n      }\n      this.transformVal = matrix.join(',');\n    }\n  }\n\n  panStartHandler(e) {\n    if (e.target.querySelectorAll('.node') && e.target.querySelectorAll('.node').length) {\n      this.panning = false;\n      return;\n    } else {\n      this.cursorVal = 'move';\n      this.panning = true;\n    }\n    let lastX = 0;\n    let lastY = 0;\n    if (this.transformVal !== '') {\n      const matrix = this.transformVal.split(',');\n      if (this.transformVal.indexOf('3d') === -1) {\n        lastX = parseInt(matrix[4], 10);\n        lastY = parseInt(matrix[5], 10);\n      } else {\n        lastX = parseInt(matrix[12], 10);\n        lastY = parseInt(matrix[13], 10);\n      }\n    }\n    if (!e.targetTouches) {\n      // pand on desktop\n      this.startX = e.pageX - lastX;\n      this.startY = e.pageY - lastY;\n    } else if (e.targetTouches.length === 1) {\n      // pan on mobile device\n      this.startX = e.targetTouches[0].pageX - lastX;\n      this.startY = e.targetTouches[0].pageY - lastY;\n    } else if (e.targetTouches.length > 1) {\n      return;\n    }\n  }\n\n  setChartScale(newScale) {\n    let matrix = [];\n    let targetScale = 1;\n    if (this.transformVal === '') {\n      this.transformVal =\n        'matrix(' + newScale + ', 0, 0, ' + newScale + ', 0, 0)';\n    } else {\n      matrix = this.transformVal.split(',');\n      if (this.transformVal.indexOf('3d') === -1) {\n        targetScale = Math.abs(parseFloat(matrix[3]) * newScale);\n        if (targetScale > this.zoomoutLimit && targetScale < this.zoominLimit) {\n          matrix[0] = 'matrix(' + targetScale;\n          matrix[3] = targetScale;\n          this.transformVal = matrix.join(',');\n        }\n      } else {\n        targetScale = Math.abs(parseFloat(matrix[5]) * newScale);\n        if (targetScale > this.zoomoutLimit && targetScale < this.zoominLimit) {\n          matrix[0] = 'matrix3d(' + targetScale;\n          matrix[5] = targetScale;\n          this.transformVal = matrix.join(',');\n        }\n      }\n    }\n  }\n\n  zoomHandler(e) {\n    const newScale = 1 + (e.deltaY > 0 ? -0.2 : 0.2);\n    this.setChartScale(newScale);\n  }\n\n  onClickChart(e) {\n    if (!e.target.closest('.oc-node')) {\n      this.chartClick.emit();\n      this.nodeSelectService.clearSelect();\n    }\n  }\n\n  onNodeClick(nodeData: any) {\n    this.nodeClick.emit(nodeData);\n  }\n}\n","export class Node {\n  id: string;\n  name: string;\n  title: string;\n  children?: Node[];\n}","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Node } from '../shared/models/node.model';\nimport { NodeSelectService } from '../shared/services/node-select.service';\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition\n} from '@angular/animations';\n\n@Component({\n  selector: 'orgchart-node',\n  templateUrl: './chart-node.component.html',\n  styleUrls: ['./chart-node.component.css'],\n  animations: [\n    trigger('expandCollapse', [\n      state(\n        'expanded',\n        style({\n          transform: 'translateY(0)',\n          opacity: 1\n        })\n      ),\n      state(\n        'collapsed',\n        style({\n          transform: 'translateY(-50px)',\n          opacity: 0\n        })\n      ),\n      transition('expanded => collapsed', [animate('0.2s')]),\n      transition('collapsed => expanded', [animate('0.2s')])\n    ])\n  ]\n})\nexport class ChartNodeComponent implements OnInit {\n\n  @Input() datasource: Node;\n  @Input() nodeHeading;\n  @Input() nodeContent;\n  @Input() nodeTemplate: TemplateRef<any>;\n  @Input() groupScale: number;\n  @Input() select: string;\n\n  @Output() nodeClick = new EventEmitter<any>();\n\n  Arr = Array; // Array type captured in a variable\n  isCollapsed = false;\n  ecStyles: object;\n  isSelected: boolean;\n  subscription: Subscription;\n\n  constructor(private nodeSelectService: NodeSelectService) {\n    // subscribe to node selection status\n    this.subscription = this.nodeSelectService.getSelect().subscribe(selection => {\n      if (selection && selection.id) {\n        this.isSelected = this.datasource.id === selection.id;\n      } else { // clear selection when empty selection received\n        this.isSelected = false;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    // unsubscribe to ensure no memory leaks\n    this.subscription.unsubscribe();\n  }\n\n  ngOnInit() {\n  }\n\n  toggleChildren() {\n    this.isCollapsed = !this.isCollapsed;\n  }\n\n  toggleAnimStart(event) {\n    if (this.isCollapsed) {\n      // å¦ææå çæ¯æ ¹ç»ç¹çå­èç¹ï¼é£ä¹æ ¹ç»ç¹åä¸çè¿æ¥çº¿éè¦éè\n      if (\n        event.element.parentElement &&\n        event.element.parentElement.parentElement &&\n        event.element.parentElement.parentElement.classList.contains('orgchart')\n      ) {\n        event.element.previousElementSibling.classList.add('oc-is-collapsed');\n      }\n    } else { // åä¸å±å¼çæ¶åï¼éè¦é©¬ä¸æå­èç¹ä»¬æ¾ç¤ºåºæ¥ï¼ä»¥ä¾¿çå°âä¸æ»âææ\n      this.ecStyles = {\n        display: 'flex'\n      };\n    }\n  }\n\n  toggleAnimEnd(event) {\n    if (this.isCollapsed) { // æå æ¶ï¼âä¸æ»âå¨ç»ç»æåï¼éè¦å°å­èç¹ä»¬éèï¼ä»¥ä¾¿å¶ä¸å ç¨ç©ºé´\n      this.ecStyles = {\n        display: 'none'\n      };\n    } else {\n      // å¦æå±å¼çæ¯æ ¹ç»ç¹çå­èç¹ï¼é£ä¹æ ¹ç»ç¹åä¸çè¿æ¥çº¿éè¦æ¾ç¤º\n      if (\n        event.element.parentElement &&\n        event.element.parentElement.parentElement &&\n        event.element.parentElement.parentElement.classList.contains('orgchart')\n      ) {\n        event.element.previousElementSibling.classList.remove('oc-is-collapsed');\n      }\n    }\n  }\n\n  onClickNode(e) {\n    this.nodeClick.emit(this.datasource);\n    if (this.select === 'single') {\n      this.nodeSelectService.sendSelect(this.datasource.id);\n    } else if (this.select === 'multiple') {\n      this.isSelected = !this.isSelected;\n    }\n  }\n\n  onNodeClick(e) {\n    this.nodeClick.emit(e);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ChartContainerComponent } from './chart-container/chart-container.component';\nimport { ChartNodeComponent } from './chart-node/chart-node.component';\nimport { NodeSelectService } from './shared/services/node-select.service';\n\n@NgModule({\n  declarations: [ChartContainerComponent, ChartNodeComponent],\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule\n  ],\n  exports: [ChartContainerComponent, ChartNodeComponent],\n  providers: [NodeSelectService],\n})\nexport class OrgchartModule { }\n"]}